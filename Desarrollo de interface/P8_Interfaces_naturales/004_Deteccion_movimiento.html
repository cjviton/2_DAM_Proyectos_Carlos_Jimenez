<!--En este programa vamos a acceder a la cámara web y obtener video a tiempo real y utilizaremos un lienzo canvas para la detección de movimiento-->

<!doctype html>
<html lang="es">
    <head>
        <title>Detección de movimiento</title>
    </head>
    <body>
        <canvas id="lienzo"></canvas> <!--define el elemento liezo para dibujar la detección de movimiento-->
        <video id="video" autoplay></video>    <!-- define el elemnto video para mostrar el video a tiempo real-->
        <script>
            const video = document.getElementById("video");  <!--Optiene el video y lo almacena en la varible video -->
            const lienzo = document.getElementById("lienzo");<!--Optiene la referencia al lienzo y lo almacena en lienzo-->
            const contexto = lienzo.getContext("2d");        <!--Optiene el contexto 2d del lienzo para dibujar en el-->
            
            navigator.mediaDevices.getUserMedia({video:true})<!--API getusermedia para solicitar acceso a la cámara-->
                .then(function(flujo){
                    video.srcObject = flujo; <!--El flujo de video se muestra en el elmento video-->
                })
                .catch(function(error){  <!--En caso de error muestra este mensaje -->
                    console.log("error: "+error)
                })
                
          
            
        </script>
    </body>
</html>

<!-- -->